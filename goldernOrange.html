<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Golden Orange Portfolio</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;800&family=Merriweather:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        :root {
            --golden-orange: #FFA500;
            --deep-charcoal: #1C1C1C;
            --warm-cream: #FFF5E1;
            --bronze-highlights: #CD7F32;
            --bg-color: var(--deep-charcoal);
            --text-color: var(--warm-cream);
            --card-bg: rgba(255, 165, 0, 0.05);
            --card-border: rgba(255, 165, 0, 0.3);
        }
        
        body.day-mode {
            --bg-color: #FFF5E1;
            --text-color: #1C1C1C;
            --card-bg: rgba(255, 255, 255, 0.8);
            --card-border: rgba(205, 127, 50, 0.2);
        }

        body {
            font-family: 'Merriweather', serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            transition: background-color 0.5s ease, color 0.5s ease;
        }

        h1, h2, h3, h4, .font-sans-bold {
            font-family: 'Inter', sans-serif;
            font-weight: 800;
        }

        /* Hero Section Animations */
        @keyframes golden-gradient-animate {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .golden-bg-gradient {
            background: linear-gradient(135deg, #1C1C1C, #CD7F32, #FFA500);
            background-size: 400% 400%;
            animation: golden-gradient-animate 20s ease infinite;
        }

        .shimmer-text {
            position: relative;
            background: linear-gradient(90deg, #CD7F32, #FFA500, #CD7F32);
            background-size: 200% 100%;
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            color: transparent;
            animation: shimmer-text 5s infinite;
        }

        @keyframes shimmer-text {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }

        @keyframes golden-dust {
            0% { transform: translateY(0) rotate(0deg); opacity: 0; }
            50% { opacity: 1; }
            100% { transform: translateY(-100px) rotate(360deg); opacity: 0; }
        }

        .golden-particle {
            animation: golden-dust 10s infinite;
        }

        .golden-particle:nth-child(2) { animation-delay: 2s; animation-duration: 12s; }
        .golden-particle:nth-child(3) { animation-delay: 4s; animation-duration: 8s; }

        /* Section Reveal Animation */
        .reveal-item {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 1s ease, transform 1s ease;
        }

        .reveal-item.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Golden Timeline */
        .timeline-line {
            position: absolute;
            width: 4px;
            background: var(--golden-orange);
            box-shadow: 0 0 10px var(--golden-orange), 0 0 20px var(--bronze-highlights);
        }
        
        @keyframes pulse-orb {
            0% { transform: scale(1); box-shadow: 0 0 5px var(--golden-orange); }
            50% { transform: scale(1.2); box-shadow: 0 0 20px var(--golden-orange); }
            100% { transform: scale(1); box-shadow: 0 0 5px var(--golden-orange); }
        }

        .timeline-orb {
            animation: pulse-orb 2s infinite ease-in-out;
        }

        /* Golden Shine Effect */
        @keyframes shine {
            0% { background-position: -100% 0; }
            100% { background-position: 100% 0; }
        }

        .shining-element {
            background: linear-gradient(to right, transparent, rgba(255, 255, 255, 0.2), transparent);
            background-size: 200% 100%;
            animation: shine 2s ease infinite;
        }

        /* Card Flip */
        .flip-card-inner {
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }

        .flip-card:hover .flip-card-inner {
            transform: rotateY(180deg);
        }

        .flip-card-front, .flip-card-back {
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
        }

        .flip-card-back {
            transform: rotateY(180deg);
        }

        /* Edit, Publish, Unpublish Button Styling */
        .edit-button, .publish-button, .unpublish-button {
            background: linear-gradient(45deg, var(--golden-orange), var(--bronze-highlights));
            color: var(--text-color);
            padding: 1rem 2rem;
            font-size: 1.2rem;
            font-weight: 600;
            border-radius: 9999px;
            border: 2px solid var(--bronze-highlights);
            box-shadow: 0 0 20px var(--golden-orange), 0 4px 6px rgba(0, 0, 0, 0.3);
            transition: transform 0.2s ease, box-shadow 0.3s ease;
            animation: pulse-orb 2s infinite;
        }
        .edit-button:hover, .publish-button:hover, .unpublish-button:hover {
            transform: scale(1.2);
            box-shadow: 0 0 30px var(--golden-orange);
        }
        .edit-button i, .publish-button i, .unpublish-button i {
            margin-right: 0.5rem;
        }

        /* Modal Styling */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(28, 28, 28, 0.9);
            backdrop-filter: blur(10px);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 101;
        }

        .modal-content {
            background: var(--card-bg);
            backdrop-filter: blur(10px);
            border: 2px solid var(--card-border);
            box-shadow: 0 0 20px var(--golden-orange);
            padding: 2rem;
            border-radius: 1rem;
            max-width: 90%;
            max-height: 90vh;
            overflow-y: auto;
        }

        .hidden {
            display: none;
        }

        /* Input Field Glow */
        .input-glow {
            transition: box-shadow 0.3s ease-in-out, border-color 0.3s ease-in-out;
        }
        .input-glow:focus {
            outline: none;
            box-shadow: 0 0 10px var(--golden-orange), 0 0 20px var(--bronze-highlights);
            border-color: var(--golden-orange);
        }
    </style>
</head>
<body class="bg-deep-charcoal">

    <!-- Firebase SDK Imports -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, collection, addDoc, setDoc, doc, getDoc } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyBFoIoUsTJ_4NzkV-sdNffAOjbHRxSRIp8",
            authDomain: "echo-625fa.firebaseapp.com",
            projectId: "echo-625fa",
            storageBucket: "echo-625fa.firebasestorage.app",
            messagingSenderId: "890702112097",
            appId: "1:890702112097:web:e81927ba359a8c426c1120",
            measurementId: "G-DMBW4N7J2T"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const auth = getAuth(app);
        window.db = db;
        window.auth = auth;
        window.appId = 'default-app-id';
        window.firestore = { collection, addDoc, setDoc, doc, getDoc };

        signInAnonymously(auth).catch(error => {
            console.error('Authentication error:', error);
            document.getElementById('edit-form-status').textContent = 'Authentication failed. Please try again.';
            document.getElementById('edit-form-status').style.color = 'red';
        });
    </script>

    <!-- Theme Toggle Button -->
    <div class="fixed top-6 right-6 z-50">
        <button id="theme-toggle" class="p-3 rounded-full bg-bronze-highlights shadow-lg transition-transform hover:scale-110">
            ☀️
        </button>
    </div>

    <!-- Edit, Publish, and Unpublish Buttons -->
    <div class="fixed top-6 left-6 z-50 space-y-4">
        <button id="edit-button" class="edit-button">
            <i class="fas fa-edit"></i> Edit Portfolio
        </button>
        <button id="publish-button" class="publish-button hidden">
            <i class="fas fa-globe"></i> Publish Portfolio
        </button>
        <button id="unpublish-button" class="unpublish-button hidden">
            <i class="fas fa-lock"></i> Unpublish Portfolio
        </button>
    </div>

    <!-- Edit Form Modal -->
    <div id="edit-form-container" class="modal hidden">
        <div class="modal-content">
            <button id="cancel-edit" class="absolute top-4 right-4 text-3xl text-[var(--text-color)] hover:text-[var(--golden-orange)] transition-colors duration-300 shining-element">&times;</button>
            <h2 class="text-3xl font-sans-bold text-center mb-6 shimmer-text">Edit Portfolio</h2>
            <form id="edit-form" class="space-y-6">
                <div>
                    <label for="edit-name" class="block text-sm font-sans-bold mb-2">Your Name (Required)</label>
                    <input type="text" id="edit-name" class="w-full p-3 bg-transparent border-2 border-golden-orange text-[var(--text-color)] input-glow rounded-lg" required>
                </div>
                <div>
                    <label for="edit-title" class="block text-sm font-sans-bold mb-2">Your Title (e.g., Creative Director)</label>
                    <input type="text" id="edit-title" class="w-full p-3 bg-transparent border-2 border-golden-orange text-[var(--text-color)] input-glow rounded-lg">
                </div>
                <div>
                    <label for="edit-about" class="block text-sm font-sans-bold mb-2">About Yourself</label>
                    <textarea id="edit-about" rows="4" class="w-full p-3 bg-transparent border-2 border-golden-orange text-[var(--text-color)] input-glow rounded-lg"></textarea>
                </div>
                <div>
                    <label for="edit-profile-image" class="block text-sm font-sans-bold mb-2">Profile Image</label>
                    <input type="file" id="edit-profile-image" accept="image/*" class="w-full p-3 bg-transparent border-2 border-golden-orange text-[var(--text-color)] input-glow rounded-lg">
                </div>
                <!-- Skill 1 -->
                <div>
                    <label for="edit-skill1-name" class="block text-sm font-sans-bold mb-2">Skill 1 Name</label>
                    <input type="text" id="edit-skill1-name" class="w-full p-3 bg-transparent border-2 border-golden-orange text-[var(--text-color)] input-glow rounded-lg">
                </div>
                <div>
                    <label for="edit-skill1-img" class="block text-sm font-sans-bold mb-2">Skill 1 Image</label>
                    <input type="file" id="edit-skill1-img" accept="image/*" class="w-full p-3 bg-transparent border-2 border-golden-orange text-[var(--text-color)] input-glow rounded-lg">
                </div>
                <!-- Skill 2 -->
                <div>
                    <label for="edit-skill2-name" class="block text-sm font-sans-bold mb-2">Skill 2 Name</label>
                    <input type="text" id="edit-skill2-name" class="w-full p-3 bg-transparent border-2 border-golden-orange text-[var(--text-color)] input-glow rounded-lg">
                </div>
                <div>
                    <label for="edit-skill2-img" class="block text-sm font-sans-bold mb-2">Skill 2 Image</label>
                    <input type="file" id="edit-skill2-img" accept="image/*" class="w-full p-3 bg-transparent border-2 border-golden-orange text-[var(--text-color)] input-glow rounded-lg">
                </div>
                <!-- Skill 3 -->
                <div>
                    <label for="edit-skill3-name" class="block text-sm font-sans-bold mb-2">Skill 3 Name</label>
                    <input type="text" id="edit-skill3-name" class="w-full p-3 bg-transparent border-2 border-golden-orange text-[var(--text-color)] input-glow rounded-lg">
                </div>
                <div>
                    <label for="edit-skill3-img" class="block text-sm font-sans-bold mb-2">Skill 3 Image</label>
                    <input type="file" id="edit-skill3-img" accept="image/*" class="w-full p-3 bg-transparent border-2 border-golden-orange text-[var(--text-color)] input-glow rounded-lg">
                </div>
                <!-- Project 1 -->
                <div>
                    <label for="edit-project1-title" class="block text-sm font-sans-bold mb-2">Project 1 Title</label>
                    <input type="text" id="edit-project1-title" class="w-full p-3 bg-transparent border-2 border-golden-orange text-[var(--text-color)] input-glow rounded-lg">
                </div>
                <div>
                    <label for="edit-project1-desc" class="block text-sm font-sans-bold mb-2">Project 1 Description</label>
                    <input type="text" id="edit-project1-desc" class="w-full p-3 bg-transparent border-2 border-golden-orange text-[var(--text-color)] input-glow rounded-lg">
                </div>
                <div>
                    <label for="edit-project1-img" class="block text-sm font-sans-bold mb-2">Project 1 Front Image</label>
                    <input type="file" id="edit-project1-img" accept="image/*" class="w-full p-3 bg-transparent border-2 border-golden-orange text-[var(--text-color)] input-glow rounded-lg">
                </div>
                <div>
                    <label for="edit-project1-back" class="block text-sm font-sans-bold mb-2">Project 1 Back Text</label>
                    <textarea id="edit-project1-back" rows="2" class="w-full p-3 bg-transparent border-2 border-golden-orange text-[var(--text-color)] input-glow rounded-lg"></textarea>
                </div>
                <div>
                    <label for="edit-project1-github" class="block text-sm font-sans-bold mb-2">Project 1 GitHub Link</label>
                    <input type="text" id="edit-project1-github" class="w-full p-3 bg-transparent border-2 border-golden-orange text-[var(--text-color)] input-glow rounded-lg">
                </div>
                <div>
                    <label for="edit-project1-live" class="block text-sm font-sans-bold mb-2">Project 1 Live Link</label>
                    <input type="text" id="edit-project1-live" class="w-full p-3 bg-transparent border-2 border-golden-orange text-[var(--text-color)] input-glow rounded-lg">
                </div>
                <!-- Project 2 -->
                <div>
                    <label for="edit-project2-title" class="block text-sm font-sans-bold mb-2">Project 2 Title</label>
                    <input type="text" id="edit-project2-title" class="w-full p-3 bg-transparent border-2 border-golden-orange text-[var(--text-color)] input-glow rounded-lg">
                </div>
                <div>
                    <label for="edit-project2-desc" class="block text-sm font-sans-bold mb-2">Project 2 Description</label>
                    <input type="text" id="edit-project2-desc" class="w-full p-3 bg-transparent border-2 border-golden-orange text-[var(--text-color)] input-glow rounded-lg">
                </div>
                <div>
                    <label for="edit-project2-img" class="block text-sm font-sans-bold mb-2">Project 2 Front Image</label>
                    <input type="file" id="edit-project2-img" accept="image/*" class="w-full p-3 bg-transparent border-2 border-golden-orange text-[var(--text-color)] input-glow rounded-lg">
                </div>
                <div>
                    <label for="edit-project2-back" class="block text-sm font-sans-bold mb-2">Project 2 Back Text</label>
                    <textarea id="edit-project2-back" rows="2" class="w-full p-3 bg-transparent border-2 border-golden-orange text-[var(--text-color)] input-glow rounded-lg"></textarea>
                </div>
                <div>
                    <label for="edit-project2-github" class="block text-sm font-sans-bold mb-2">Project 2 GitHub Link</label>
                    <input type="text" id="edit-project2-github" class="w-full p-3 bg-transparent border-2 border-golden-orange text-[var(--text-color)] input-glow rounded-lg">
                </div>
                <div>
                    <label for="edit-project2-live" class="block text-sm font-sans-bold mb-2">Project 2 Live Link</label>
                    <input type="text" id="edit-project2-live" class="w-full p-3 bg-transparent border-2 border-golden-orange text-[var(--text-color)] input-glow rounded-lg">
                </div>
                <!-- Project 3 -->
                <div>
                    <label for="edit-project3-title" class="block text-sm font-sans-bold mb-2">Project 3 Title</label>
                    <input type="text" id="edit-project3-title" class="w-full p-3 bg-transparent border-2 border-golden-orange text-[var(--text-color)] input-glow rounded-lg">
                </div>
                <div>
                    <label for="edit-project3-desc" class="block text-sm font-sans-bold mb-2">Project 3 Description</label>
                    <input type="text" id="edit-project3-desc" class="w-full p-3 bg-transparent border-2 border-golden-orange text-[var(--text-color)] input-glow rounded-lg">
                </div>
                <div>
                    <label for="edit-project3-img" class="block text-sm font-sans-bold mb-2">Project 3 Front Image</label>
                    <input type="file" id="edit-project3-img" accept="image/*" class="w-full p-3 bg-transparent border-2 border-golden-orange text-[var(--text-color)] input-glow rounded-lg">
                </div>
                <div>
                    <label for="edit-project3-back" class="block text-sm font-sans-bold mb-2">Project 3 Back Text</label>
                    <textarea id="edit-project3-back" rows="2" class="w-full p-3 bg-transparent border-2 border-golden-orange text-[var(--text-color)] input-glow rounded-lg"></textarea>
                </div>
                <div>
                    <label for="edit-project3-github" class="block text-sm font-sans-bold mb-2">Project 3 GitHub Link</label>
                    <input type="text" id="edit-project3-github" class="w-full p-3 bg-transparent border-2 border-golden-orange text-[var(--text-color)] input-glow rounded-lg">
                </div>
                <div>
                    <label for="edit-project3-live" class="block text-sm font-sans-bold mb-2">Project 3 Live Link</label>
                    <input type="text" id="edit-project3-live" class="w-full p-3 bg-transparent border-2 border-golden-orange text-[var(--text-color)] input-glow rounded-lg">
                </div>
                <!-- Timeline Item 1 -->
                <div>
                    <label for="edit-timeline1-year" class="block text-sm font-sans-bold mb-2">Timeline 1 Year</label>
                    <input type="text" id="edit-timeline1-year" class="w-full p-3 bg-transparent border-2 border-golden-orange text-[var(--text-color)] input-glow rounded-lg">
                </div>
                <div>
                    <label for="edit-timeline1-title" class="block text-sm font-sans-bold mb-2">Timeline 1 Title</label>
                    <input type="text" id="edit-timeline1-title" class="w-full p-3 bg-transparent border-2 border-golden-orange text-[var(--text-color)] input-glow rounded-lg">
                </div>
                <div>
                    <label for="edit-timeline1-org" class="block text-sm font-sans-bold mb-2">Timeline 1 Organization</label>
                    <input type="text" id="edit-timeline1-org" class="w-full p-3 bg-transparent border-2 border-golden-orange text-[var(--text-color)] input-glow rounded-lg">
                </div>
                <div>
                    <label for="edit-timeline1-icon" class="block text-sm font-sans-bold mb-2">Timeline 1 Icon (Emoji)</label>
                    <input type="text" id="edit-timeline1-icon" class="w-full p-3 bg-transparent border-2 border-golden-orange text-[var(--text-color)] input-glow rounded-lg">
                </div>
                <!-- Timeline Item 2 -->
                <div>
                    <label for="edit-timeline2-year" class="block text-sm font-sans-bold mb-2">Timeline 2 Year</label>
                    <input type="text" id="edit-timeline2-year" class="w-full p-3 bg-transparent border-2 border-golden-orange text-[var(--text-color)] input-glow rounded-lg">
                </div>
                <div>
                    <label for="edit-timeline2-title" class="block text-sm font-sans-bold mb-2">Timeline 2 Title</label>
                    <input type="text" id="edit-timeline2-title" class="w-full p-3 bg-transparent border-2 border-golden-orange text-[var(--text-color)] input-glow rounded-lg">
                </div>
                <div>
                    <label for="edit-timeline2-org" class="block text-sm font-sans-bold mb-2">Timeline 2 Organization</label>
                    <input type="text" id="edit-timeline2-org" class="w-full p-3 bg-transparent border-2 border-golden-orange text-[var(--text-color)] input-glow rounded-lg">
                </div>
                <div>
                    <label for="edit-timeline2-icon" class="block text-sm font-sans-bold mb-2">Timeline 2 Icon (Emoji)</label>
                    <input type="text" id="edit-timeline2-icon" class="w-full p-3 bg-transparent border-2 border-golden-orange text-[var(--text-color)] input-glow rounded-lg">
                </div>
                <!-- Timeline Item 3 -->
                <div>
                    <label for="edit-timeline3-year" class="block text-sm font-sans-bold mb-2">Timeline 3 Year</label>
                    <input type="text" id="edit-timeline3-year" class="w-full p-3 bg-transparent border-2 border-golden-orange text-[var(--text-color)] input-glow rounded-lg">
                </div>
                <div>
                    <label for="edit-timeline3-title" class="block text-sm font-sans-bold mb-2">Timeline 3 Title</label>
                    <input type="text" id="edit-timeline3-title" class="w-full p-3 bg-transparent border-2 border-golden-orange text-[var(--text-color)] input-glow rounded-lg">
                </div>
                <div>
                    <label for="edit-timeline3-org" class="block text-sm font-sans-bold mb-2">Timeline 3 Organization</label>
                    <input type="text" id="edit-timeline3-org" class="w-full p-3 bg-transparent border-2 border-golden-orange text-[var(--text-color)] input-glow rounded-lg">
                </div>
                <div>
                    <label for="edit-timeline3-icon" class="block text-sm font-sans-bold mb-2">Timeline 3 Icon (Emoji)</label>
                    <input type="text" id="edit-timeline3-icon" class="w-full p-3 bg-transparent border-2 border-golden-orange text-[var(--text-color)] input-glow rounded-lg">
                </div>
                <div class="flex justify-between">
                    <button type="submit" class="w-full py-3 mr-2 text-lg font-sans-bold uppercase rounded-full shining-element transition-all duration-300 transform hover:scale-105" style="background: linear-gradient(45deg, var(--golden-orange), var(--bronze-highlights)); box-shadow: 0 0 15px var(--golden-orange);">Save Changes</button>
                    <button type="button" id="cancel-edit-btn" class="w-full py-3 ml-2 text-lg font-sans-bold uppercase rounded-full transition-all duration-300 transform hover:scale-105 border border-[var(--bronze-highlights)] text-[var(--text-color)]">Cancel</button>
                </div>
                <p id="edit-form-status" class="text-center text-sm font-sans-bold text-[var(--text-color)]"></p>
            </form>
        </div>
    </div>

    <!-- Publish Confirmation Modal -->
    <div id="publish-modal" class="modal hidden">
        <div class="modal-content text-center">
            <p class="text-xl font-sans-bold mb-4">Portfolio Published!</p>
            <p>Your portfolio is now live. Share it with the world!</p>
            <p id="publish-url" class="mt-4 text-golden-orange break-all"></p>
            <button id="copy-url" class="mt-6 p-3 rounded-full text-lg font-sans-bold shining-element transition-transform hover:scale-105" style="background: linear-gradient(45deg, var(--golden-orange), var(--bronze-highlights));">Copy URL</button>
            <button id="close-publish-modal" class="mt-2 p-3 rounded-full text-lg font-sans-bold border border-[var(--bronze-highlights)] text-[var(--text-color)] transition-transform hover:scale-105">Close</button>
        </div>
    </div>

    <!-- Hero Section -->
    <section id="hero" class="relative min-h-screen flex items-center justify-center text-center overflow-hidden golden-bg-gradient">
        <!-- Animated Particles -->
        <div class="absolute inset-0">
            <div class="golden-particle absolute w-1 h-1 bg-warm-cream rounded-full" style="top: 10%; left: 20%;"></div>
            <div class="golden-particle absolute w-2 h-2 bg-warm-cream rounded-full" style="top: 50%; left: 70%; animation-delay: 3s; animation-duration: 15s;"></div>
            <div class="golden-particle absolute w-1.5 h-1.5 bg-warm-cream rounded-full" style="top: 80%; left: 40%; animation-delay: 6s; animation-duration: 11s;"></div>
            <div class="golden-particle absolute w-2.5 h-2.5 bg-warm-cream rounded-full" style="top: 30%; left: 90%; animation-delay: 1s; animation-duration: 9s;"></div>
        </div>
        
        <div class="relative z-10 p-6 sm:p-12">
            <h1 class="text-4xl md:text-6xl lg:text-8xl font-sans-bold mb-2">
                <span id="hero-name" class="shimmer-text">Your name</span>
            </h1>
            <p id="hero-title" class="text-xl md:text-2xl font-serif italic text-warm-cream opacity-80">
                Creative Director & Entrepreneur
            </p>
            <button id="unlock-shine-btn" class="mt-8 px-6 py-3 rounded-full text-lg font-sans-bold bg-golden-orange transition-transform hover:scale-105 shining-element">
                Unlock Shine
            </button>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="py-20 reveal-item">
        <div class="container mx-auto px-6 grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
            <div class="flex justify-center">
                <div class="relative w-64 h-64 rounded-full p-2 bg-transparent border-2 border-bronze-highlights shining-element">
                    <img id="profile-image" src="https://placehold.co/250x250/FFA500/1C1C1C?text=Profile" alt="Profile Picture" class="w-full h-full object-cover rounded-full">
                    <div class="absolute inset-0 rounded-full border-2 border-golden-orange animate-ping"></div>
                </div>
            </div>
            <div class="p-8 rounded-2xl bg-card-bg backdrop-blur-md shadow-xl border border-card-border reveal-item">
                <h2 class="text-4xl font-sans-bold mb-4">About Me</h2>
                <p id="about-text" class="text-lg leading-relaxed text-text-color opacity-90">
                    With a passion for creating impactful digital experiences, I blend artistic vision with technical precision. My journey is one of continuous learning and innovation, always seeking new ways to bring ideas to life. I specialize in designing and building projects that not only look stunning but also function seamlessly.
                </p>
            </div>
        </div>
    </section>

    <!-- Skills Section -->
    <section id="skills" class="py-20 reveal-item">
        <div class="container mx-auto px-6">
            <h2 class="text-4xl font-sans-bold text-center mb-12">My <span class="shimmer-text">Skills</span></h2>
            <div id="skills-container" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-8">
                <!-- Skills will be dynamically injected here -->
            </div>
        </div>
    </section>
    
    <!-- Projects Section -->
    <section id="projects" class="py-20 reveal-item">
        <div class="container mx-auto px-6">
            <h2 class="text-4xl font-sans-bold text-center mb-12">Featured <span class="shimmer-text">Projects</span></h2>
            <div id="projects-container" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Projects will be dynamically injected here -->
            </div>
        </div>
    </section>
    
    <!-- Timeline Section -->
    <section id="timeline" class="py-20 reveal-item">
        <div class="container mx-auto px-6">
            <h2 class="text-4xl font-sans-bold text-center mb-12">Experience & <span class="shimmer-text">Education</span></h2>
            <div class="relative w-full max-w-3xl mx-auto">
                <div class="timeline-line absolute inset-y-0 left-1/2 -translate-x-1/2"></div>
                <div id="timeline-container" class="space-y-12">
                    <!-- Timeline items will be dynamically injected here -->
                </div>
            </div>
        </div>
    </section>
    
    <!-- Contact Section -->
    <section id="contact" class="py-20 reveal-item">
        <div class="container mx-auto px-6">
            <h2 class="text-4xl font-sans-bold text-center mb-12">Get in <span class="shimmer-text">Touch</span></h2>
            <div class="w-full max-w-2xl mx-auto p-8 rounded-2xl bg-card-bg backdrop-blur-md shadow-xl border border-card-border">
                <form id="contact-form" class="space-y-6">
                    <div>
                        <label for="name" class="block text-text-color opacity-80 mb-2">Name</label>
                        <input type="text" id="name" class="w-full p-3 rounded-lg bg-transparent border-2 border-golden-orange text-[var(--text-color)] input-glow">
                    </div>
                    <div>
                        <label for="email" class="block text-text-color opacity-80 mb-2">Email</label>
                        <input type="email" id="email" class="w-full p-3 rounded-lg bg-transparent border-2 border-golden-orange text-[var(--text-color)] input-glow">
                    </div>
                    <div>
                        <label for="message" class="block text-text-color opacity-80 mb-2">Message</label>
                        <textarea id="message" rows="4" class="w-full p-3 rounded-lg bg-transparent border-2 border-golden-orange text-[var(--text-color)] input-glow"></textarea>
                    </div>
                    <button type="submit" class="w-full py-3 rounded-full text-lg font-sans-bold bg-golden-orange shining-element transition-transform hover:scale-105">
                        Send Message
                    </button>
                    <p id="form-status" class="text-center text-sm font-sans-bold text-[var(--text-color)]"></p>
                </form>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="py-8 text-center border-t border-bronze-highlights">
        <p id="footer-text" class="text-sm text-text-color opacity-60">© 2025 Sunny. All rights reserved.</p>
    </footer>

    <!-- Confirmation Modal -->
    <div id="confirmation-modal" class="modal hidden">
        <div class="modal-content text-center">
            <p class="text-xl font-sans-bold mb-4">Message Sent!</p>
            <p>Your message has been sent successfully!</p>
            <button id="close-modal" class="mt-6 p-3 rounded-full text-lg font-sans-bold bg-golden-orange shining-element transition-transform hover:scale-105">Close</button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Default data
            const defaultData = {
                name: 'Sunny A.',
                title: 'Creative Director & Entrepreneur',
                about: 'With a passion for creating impactful digital experiences, I blend artistic vision with technical precision. My journey is one of continuous learning and innovation, always seeking new ways to bring ideas to life. I specialize in designing and building projects that not only look stunning but also function seamlessly.',
                profileImage: 'https://placehold.co/250x250/FFA500/1C1C1C?text=Profile',
                skills: [
                    { name: 'UI/UX Design', img: 'https://placehold.co/100x100/FFA500/1C1C1C?text=UI/UX' },
                    { name: 'Branding', img: 'https://placehold.co/100x100/FFA500/1C1C1C?text=Branding' },
                    { name: 'Front-End Dev', img: 'https://placehold.co/100x100/FFA500/1C1C1C?text=Dev' },
                    { name: 'Product Strategy', img: 'https://placehold.co/100x100/FFA500/1C1C1C?text=Strategy' },
                    { name: 'Motion Graphics', img: 'https://placehold.co/100x100/FFA500/1C1C1C?text=Motion' }
                ],
                projects: [
                    { 
                        title: 'Project Aurora', 
                        description: 'A cutting-edge mobile app for creative collaboration.', 
                        frontImg: 'https://placehold.co/300x200/FFA500/1C1C1C?text=Aurora',
                        backText: 'Explore my process and design decisions behind Project Aurora. A modern UI with sleek animations and a focus on user experience.',
                        links: { github: '#', live: '#' }
                    },
                    { 
                        title: 'The Solara Brand', 
                        description: 'Full branding and identity design for a luxury tech startup.', 
                        frontImg: 'https://placehold.co/300x200/FFA500/1C1C1C?text=Solara',
                        backText: 'A deep dive into the branding and visual identity of the Solara project, including logo design, color palette, and typography.',
                        links: { github: '#', live: '#' }
                    },
                    { 
                        title: 'Portfolio 3D', 
                        description: 'A personal portfolio site with interactive 3D elements.', 
                        frontImg: 'https://placehold.co/300x200/FFA500/1C1C1C?text=3D',
                        backText: 'This project showcases my ability to integrate modern 3D rendering into web applications for a truly immersive experience.',
                        links: { github: '#', live: '#' }
                    }
                ],
                timeline: [
                    { year: '2023 - 2025', title: 'Master of Fine Arts', org: 'Creative Arts University', icon: '🎓' },
                    { year: '2020 - 2023', title: 'Lead Designer', org: 'Pixel Studio', icon: '💼' },
                    { year: '2019 - 2020', title: 'UI/UX Intern', org: 'Digital Dynamics', icon: '💼' },
                    { year: '2015 - 2019', title: 'Bachelor of Design', org: 'State College of Art', icon: '🎓' }
                ],
                published: false,
                publicUrl: ''
            };

            let currentUserName = 'Sunny A.';

            // ImgBB API Key
            const IMGBB_API_KEY = '01400454f4aafb70d1c9beddec5cbbc5';

            // Upload image to ImgBB
            const uploadToImgBB = async (file) => {
                if (!file) return null;
                const formData = new FormData();
                formData.append('image', file);
                try {
                    const response = await fetch(`https://api.imgbb.com/1/upload?key=${IMGBB_API_KEY}`, {
                        method: 'POST',
                        body: formData
                    });
                    const data = await response.json();
                    if (data.success) return data.data.url;
                    throw new Error('Image upload failed: ' + (data.error?.message || 'Unknown error'));
                } catch (error) {
                    throw new Error('Image upload failed: ' + error.message);
                }
            };

            // Clean object to remove undefined/null/empty values
            const cleanObject = (obj) => {
                if (Array.isArray(obj)) {
                    return obj
                        .map(item => cleanObject(item))
                        .filter(item => item !== null && item !== undefined && (typeof item !== 'object' || Object.keys(item).length > 0));
                }
                if (typeof obj !== 'object' || obj === null) return obj;
                const cleaned = {};
                Object.keys(obj).forEach(key => {
                    const value = obj[key];
                    if (value !== undefined && value !== null) {
                        if (Array.isArray(value)) {
                            const cleanedArray = cleanObject(value);
                            if (cleanedArray.length > 0) cleaned[key] = cleanedArray;
                        } else if (typeof value === 'object') {
                            const cleanedNested = cleanObject(value);
                            if (Object.keys(cleanedNested).length > 0) cleaned[key] = cleanedNested;
                        } else if (value !== '') cleaned[key] = value;
                    }
                });
                return Object.keys(cleaned).length > 0 ? cleaned : null;
            };

            // Save portfolio data to Firestore
            const savePortfolioData = async (data) => {
                try {
                    if (!data.name) {
                        document.getElementById('edit-form-status').textContent = 'Please enter your name to save.';
                        document.getElementById('edit-form-status').style.color = 'red';
                        return;
                    }
                    const docRef = window.firestore.doc(window.db, 'portfolio', data.name);
                    const cleanedData = cleanObject(data);
                    if (!cleanedData || Object.keys(cleanedData).length === 0) {
                        document.getElementById('edit-form-status').textContent = 'No valid data to save.';
                        document.getElementById('edit-form-status').style.color = 'red';
                        return;
                    }
                    await window.firestore.setDoc(docRef, cleanedData, { merge: true });
                    currentUserName = data.name;
                    document.getElementById('edit-form-status').textContent = 'Portfolio updated successfully!';
                    document.getElementById('edit-form-status').style.color = 'green';
                    await loadPortfolioData();
                    document.getElementById('edit-form-container').classList.add('hidden');
                } catch (error) {
                    console.error('Error saving data:', error);
                    document.getElementById('edit-form-status').textContent = 'Error updating portfolio: ' + error.message;
                    document.getElementById('edit-form-status').style.color = 'red';
                }
            };

            // Publish portfolio
            const publishPortfolio = async () => {
                try {
                    const docRef = window.firestore.doc(window.db, 'portfolio', currentUserName);
                    const publicUrl = `${window.location.origin}/portfolio/${encodeURIComponent(currentUserName)}`;
                    await window.firestore.setDoc(docRef, { published: true, publicUrl }, { merge: true });
                    document.getElementById('publish-url').textContent = publicUrl;
                    document.getElementById('publish-modal').classList.remove('hidden');
                    checkPublishedStatus();
                } catch (error) {
                    console.error('Error publishing portfolio:', error);
                    document.getElementById('edit-form-status').textContent = 'Error publishing portfolio: ' + error.message;
                    document.getElementById('edit-form-status').style.color = 'red';
                }
            };

            // Unpublish portfolio
            const unpublishPortfolio = async () => {
                try {
                    const docRef = window.firestore.doc(window.db, 'portfolio', currentUserName);
                    await window.firestore.setDoc(docRef, { published: false, publicUrl: '' }, { merge: true });
                    checkPublishedStatus();
                    document.getElementById('edit-form-status').textContent = 'Portfolio unpublished successfully!';
                    document.getElementById('edit-form-status').style.color = 'green';
                } catch (error) {
                    console.error('Error unpublishing portfolio:', error);
                    document.getElementById('edit-form-status').textContent = 'Error unpublishing portfolio: ' + error.message;
                    document.getElementById('edit-form-status').style.color = 'red';
                }
            };

            // Check published status
            const checkPublishedStatus = async () => {
                try {
                    const docRef = window.firestore.doc(window.db, 'portfolio', currentUserName);
                    const docSnap = await window.firestore.getDoc(docRef);
                    const data = docSnap.exists() ? docSnap.data() : defaultData;
                    if (data.published) {
                        document.getElementById('publish-button').classList.add('hidden');
                        document.getElementById('unpublish-button').classList.remove('hidden');
                    } else {
                        document.getElementById('publish-button').classList.remove('hidden');
                        document.getElementById('unpublish-button').classList.add('hidden');
                    }
                } catch (error) {
                    console.error('Error checking published status:', error);
                }
            };

            // Load portfolio data from Firestore
            const loadPortfolioData = async () => {
                try {
                    const docRef = window.firestore.doc(window.db, 'portfolio', currentUserName);
                    const docSnap = await window.firestore.getDoc(docRef);
                    const data = docSnap.exists() ? { ...defaultData, ...docSnap.data() } : defaultData;

                    // Update form fields
                    document.getElementById('edit-name').value = data.name || '';
                    document.getElementById('edit-title').value = data.title || '';
                    document.getElementById('edit-about').value = data.about || '';
                    document.getElementById('edit-skill1-name').value = data.skills[0]?.name || '';
                    document.getElementById('edit-skill2-name').value = data.skills[1]?.name || '';
                    document.getElementById('edit-skill3-name').value = data.skills[2]?.name || '';
                    document.getElementById('edit-project1-title').value = data.projects[0]?.title || '';
                    document.getElementById('edit-project1-desc').value = data.projects[0]?.description || '';
                    document.getElementById('edit-project1-back').value = data.projects[0]?.backText || '';
                    document.getElementById('edit-project1-github').value = data.projects[0]?.links?.github || '';
                    document.getElementById('edit-project1-live').value = data.projects[0]?.links?.live || '';
                    document.getElementById('edit-project2-title').value = data.projects[1]?.title || '';
                    document.getElementById('edit-project2-desc').value = data.projects[1]?.description || '';
                    document.getElementById('edit-project2-back').value = data.projects[1]?.backText || '';
                    document.getElementById('edit-project2-github').value = data.projects[1]?.links?.github || '';
                    document.getElementById('edit-project2-live').value = data.projects[1]?.links?.live || '';
                    document.getElementById('edit-project3-title').value = data.projects[2]?.title || '';
                    document.getElementById('edit-project3-desc').value = data.projects[2]?.description || '';
                    document.getElementById('edit-project3-back').value = data.projects[2]?.backText || '';
                    document.getElementById('edit-project3-github').value = data.projects[2]?.links?.github || '';
                    document.getElementById('edit-project3-live').value = data.projects[2]?.links?.live || '';
                    document.getElementById('edit-timeline1-year').value = data.timeline[0]?.year || '';
                    document.getElementById('edit-timeline1-title').value = data.timeline[0]?.title || '';
                    document.getElementById('edit-timeline1-org').value = data.timeline[0]?.org || '';
                    document.getElementById('edit-timeline1-icon').value = data.timeline[0]?.icon || '';
                    document.getElementById('edit-timeline2-year').value = data.timeline[1]?.year || '';
                    document.getElementById('edit-timeline2-title').value = data.timeline[1]?.title || '';
                    document.getElementById('edit-timeline2-org').value = data.timeline[1]?.org || '';
                    document.getElementById('edit-timeline2-icon').value = data.timeline[1]?.icon || '';
                    document.getElementById('edit-timeline3-year').value = data.timeline[2]?.year || '';
                    document.getElementById('edit-timeline3-title').value = data.timeline[2]?.title || '';
                    document.getElementById('edit-timeline3-org').value = data.timeline[2]?.org || '';
                    document.getElementById('edit-timeline3-icon').value = data.timeline[2]?.icon || '';

                    // Update page content
                    currentUserName = data.name || defaultData.name;
                    document.getElementById('hero-name').textContent = data.name || defaultData.name;
                    document.getElementById('hero-title').textContent = data.title || defaultData.title;
                    document.getElementById('about-text').textContent = data.about || defaultData.about;
                    document.getElementById('profile-image').src = data.profileImage || defaultData.profileImage;
                    document.getElementById('footer-text').textContent = `© 2025 ${data.name || defaultData.name}. All rights reserved.`;

                    // Render skills
                    const skillsContainer = document.getElementById('skills-container');
                    skillsContainer.innerHTML = data.skills.map((skill, index) => `
                        <div class="flex flex-col items-center justify-center p-4 rounded-xl border-2 border-golden-orange transition-transform hover:scale-105 reveal-item">
                            <img src="${skill.img || defaultData.skills[index]?.img || 'https://placehold.co/100x100/FFA500/1C1C1C?text=Skill'}" alt="${skill.name || 'Skill'}" class="w-16 h-16 rounded-full border-2 border-bronze-highlights mb-2">
                            <span class="text-sm font-sans-bold text-center">${skill.name || defaultData.skills[index]?.name || 'Skill'}</span>
                        </div>
                    `).join('');

                    // Render projects
                    const projectsContainer = document.getElementById('projects-container');
                    projectsContainer.innerHTML = data.projects.map((project, index) => `
                        <div class="relative w-full h-80 perspective-1000 flip-card reveal-item">
                            <div class="absolute inset-0 flip-card-inner">
                                <div class="absolute inset-0 rounded-2xl overflow-hidden shadow-xl border-2 border-golden-orange flip-card-front">
                                    <img src="${project.frontImg || defaultData.projects[index]?.frontImg || 'https://placehold.co/300x200/FFA500/1C1C1C?text=Project'}" alt="${project.title || 'Project'}" class="w-full h-full object-cover">
                                    <div class="absolute inset-0 flex items-end p-4 bg-gradient-to-t from-black/80 to-transparent">
                                        <h3 class="text-2xl font-sans-bold">${project.title || defaultData.projects[index]?.title || 'Untitled Project'}</h3>
                                    </div>
                                </div>
                                <div class="absolute inset-0 rounded-2xl p-6 flex flex-col items-center justify-center border-2 border-golden-orange bg-card-bg backdrop-blur-md shadow-xl flip-card-back">
                                    <h4 class="text-xl font-sans-bold mb-2">${project.title || defaultData.projects[index]?.title || 'Untitled Project'}</h4>
                                    <p class="text-sm text-text-color opacity-80 mb-4 text-center">${project.backText || defaultData.projects[index]?.backText || 'No description available.'}</p>
                                    <div class="flex space-x-4">
                                        <a href="${project.links?.github || defaultData.projects[index]?.links?.github || '#'}" class="px-4 py-2 rounded-full font-sans-bold bg-golden-orange shining-element transition-transform hover:scale-105">GitHub</a>
                                        <a href="${project.links?.live || defaultData.projects[index]?.links?.live || '#'}" class="px-4 py-2 rounded-full font-sans-bold bg-golden-orange shining-element transition-transform hover:scale-105">Live Demo</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `).join('');

                    // Render timeline
                    const timelineContainer = document.getElementById('timeline-container');
                    timelineContainer.innerHTML = data.timeline.map((item, index) => `
                        <div class="relative flex ${index % 2 === 0 ? 'justify-start' : 'justify-end'} reveal-item">
                            <div class="w-1/2 p-4 rounded-xl border-2 border-card-border bg-card-bg backdrop-blur-md">
                                <span class="timeline-orb absolute top-1/2 -translate-y-1/2 ${index % 2 === 0 ? 'right-0 translate-x-1/2' : 'left-0 -translate-x-1/2'} w-8 h-8 rounded-full bg-golden-orange flex items-center justify-center text-text-color text-2xl">${item.icon || defaultData.timeline[index]?.icon || '📌'}</span>
                                <h4 class="text-lg font-sans-bold mb-1">${item.title || defaultData.timeline[index]?.title || 'Event'}</h4>
                                <p class="text-sm italic opacity-80">${item.org || defaultData.timeline[index]?.org || 'Organization'}</p>
                                <p class="text-xs font-sans-bold opacity-60 mt-1">${item.year || defaultData.timeline[index]?.year || 'Year'}</p>
                            </div>
                        </div>
                    `).join('');

                    // Update published status
                    checkPublishedStatus();

                    // Re-observe reveal items
                    document.querySelectorAll('.reveal-item').forEach(item => observer.observe(item));
                } catch (error) {
                    console.error('Error loading data:', error);
                    document.getElementById('edit-form-status').textContent = 'Error loading portfolio: ' + error.message;
                    document.getElementById('edit-form-status').style.color = 'red';
                }
            };

            // Edit Button and Form Logic
            const editButton = document.getElementById('edit-button');
            const editFormContainer = document.getElementById('edit-form-container');
            const editForm = document.getElementById('edit-form');
            const cancelEdit = document.getElementById('cancel-edit-btn');
            const editFormStatus = document.getElementById('edit-form-status');

            editButton.addEventListener('click', async () => {
                await loadPortfolioData();
                editFormContainer.classList.remove('hidden');
            });

            cancelEdit.addEventListener('click', () => {
                editFormContainer.classList.add('hidden');
                editForm.reset();
                editFormStatus.textContent = '';
            });

            // Publish/Unpublish Button Logic
            const publishButton = document.getElementById('publish-button');
            const unpublishButton = document.getElementById('unpublish-button');
            const publishModal = document.getElementById('publish-modal');
            const publishUrl = document.getElementById('publish-url');
            const copyUrlButton = document.getElementById('copy-url');
            const closePublishModal = document.getElementById('close-publish-modal');

            publishButton.addEventListener('click', publishPortfolio);
            unpublishButton.addEventListener('click', unpublishPortfolio);
            closePublishModal.addEventListener('click', () => {
                publishModal.classList.add('hidden');
            });

            copyUrlButton.addEventListener('click', () => {
                const url = publishUrl.textContent;
                navigator.clipboard.writeText(url).then(() => {
                    editFormStatus.textContent = 'URL copied to clipboard!';
                    editFormStatus.style.color = 'green';
                    setTimeout(() => editFormStatus.textContent = '', 3000);
                }).catch(err => {
                    console.error('Error copying URL:', err);
                    editFormStatus.textContent = 'Failed to copy URL.';
                    editFormStatus.style.color = 'red';
                });
            });

            // Edit form submission
            editForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                editFormStatus.textContent = 'Saving...';
                try {
                    const profileImageFile = document.getElementById('edit-profile-image').files[0];
                    const skill1ImgFile = document.getElementById('edit-skill1-img').files[0];
                    const skill2ImgFile = document.getElementById('edit-skill2-img').files[0];
                    const skill3ImgFile = document.getElementById('edit-skill3-img').files[0];
                    const project1ImgFile = document.getElementById('edit-project1-img').files[0];
                    const project2ImgFile = document.getElementById('edit-project2-img').files[0];
                    const project3ImgFile = document.getElementById('edit-project3-img').files[0];

                    const profileImageUrl = await uploadToImgBB(profileImageFile);
                    const skill1ImgUrl = await uploadToImgBB(skill1ImgFile);
                    const skill2ImgUrl = await uploadToImgBB(skill2ImgFile);
                    const skill3ImgUrl = await uploadToImgBB(skill3ImgFile);
                    const project1ImgUrl = await uploadToImgBB(project1ImgFile);
                    const project2ImgUrl = await uploadToImgBB(project2ImgFile);
                    const project3ImgUrl = await uploadToImgBB(project3ImgFile);

                    const skills = [];
                    for (let i = 1; i <= 3; i++) {
                        const name = document.getElementById(`edit-skill${i}-name`).value.trim();
                        const img = i === 1 ? skill1ImgUrl : i === 2 ? skill2ImgUrl : skill3ImgUrl;
                        if (name || img) {
                            skills.push({
                                name: name || undefined,
                                img: img || undefined
                            });
                        }
                    }

                    const projects = [];
                    for (let i = 1; i <= 3; i++) {
                        const title = document.getElementById(`edit-project${i}-title`).value.trim();
                        const desc = document.getElementById(`edit-project${i}-desc`).value.trim();
                        const backText = document.getElementById(`edit-project${i}-back`).value.trim();
                        const github = document.getElementById(`edit-project${i}-github`).value.trim();
                        const live = document.getElementById(`edit-project${i}-live`).value.trim();
                        const img = i === 1 ? project1ImgUrl : i === 2 ? project2ImgUrl : project3ImgUrl;
                        if (title || desc || backText || github || live || img) {
                            projects.push({
                                title: title || undefined,
                                description: desc || undefined,
                                frontImg: img || undefined,
                                backText: backText || undefined,
                                links: { github: github || undefined, live: live || undefined }
                            });
                        }
                    }

                    const timeline = [];
                    for (let i = 1; i <= 3; i++) {
                        const year = document.getElementById(`edit-timeline${i}-year`).value.trim();
                        const title = document.getElementById(`edit-timeline${i}-title`).value.trim();
                        const org = document.getElementById(`edit-timeline${i}-org`).value.trim();
                        const icon = document.getElementById(`edit-timeline${i}-icon`).value.trim();
                        if (year || title || org || icon) {
                            timeline.push({
                                year: year || undefined,
                                title: title || undefined,
                                org: org || undefined,
                                icon: icon || undefined
                            });
                        }
                    }

                    const data = {
                        name: document.getElementById('edit-name').value.trim() || currentUserName,
                        title: document.getElementById('edit-title').value.trim() || undefined,
                        about: document.getElementById('edit-about').value.trim() || undefined,
                        profileImage: profileImageUrl || undefined,
                        skills,
                        projects,
                        timeline
                    };

                    await savePortfolioData(data);
                } catch (error) {
                    console.error('Error uploading images or saving data:', error);
                    editFormStatus.textContent = 'Error uploading images or saving data: ' + error.message;
                    editFormStatus.style.color = 'red';
                }
            });

            // Contact form submission
            const contactForm = document.getElementById('contact-form');
            const confirmationModal = document.getElementById('confirmation-modal');
            const closeModalBtn = document.getElementById('close-modal');
            const formStatus = document.getElementById('form-status');

            const handleFormSubmit = async (e) => {
                e.preventDefault();
                formStatus.textContent = 'Sending message...';
                try {
                    const name = document.getElementById('name').value.trim();
                    const email = document.getElementById('email').value.trim();
                    const message = document.getElementById('message').value.trim();
                    if (!name || !email || !message) {
                        formStatus.textContent = 'Please fill out all fields.';
                        formStatus.style.color = 'red';
                        return;
                    }
                    await window.firestore.addDoc(window.firestore.collection(window.db, `artifacts/${window.appId}/public/data/contact-messages`), {
                        name,
                        email,
                        message,
                        timestamp: new Date()
                    });
                    formStatus.innerHTML = 'Message sent <span style="color: var(--golden-orange);">✅</span>!';
                    confirmationModal.classList.remove('hidden');
                    contactForm.reset();
                    setTimeout(() => formStatus.textContent = '', 5000);
                } catch (error) {
                    console.error('Error adding document: ', error);
                    formStatus.textContent = 'Failed to send message: ' + error.message;
                    formStatus.style.color = 'red';
                    confirmationModal.querySelector('p:nth-child(2)').textContent = 'Oops! Something went wrong. Please try again.';
                    confirmationModal.classList.remove('hidden');
                }
            };

            closeModalBtn.addEventListener('click', () => {
                confirmationModal.classList.add('hidden');
            });

            // Intersection Observer for Section Reveals
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, { threshold: 0.1 });

            // Day/Night Mode Toggle
            const themeToggleBtn = document.getElementById('theme-toggle');
            themeToggleBtn.addEventListener('click', () => {
                document.body.classList.toggle('day-mode');
                const isDayMode = document.body.classList.contains('day-mode');
                themeToggleBtn.textContent = isDayMode ? '🌙' : '☀️';
            });

            // Unlock Shine Functionality
            const unlockShineBtn = document.getElementById('unlock-shine-btn');
            unlockShineBtn.addEventListener('click', () => {
                const elementsToShine = document.querySelectorAll('.shining-element');
                elementsToShine.forEach(el => el.style.animationPlayState = 'running');
            });
            // Stop shine by default
            document.querySelectorAll('.shining-element').forEach(el => el.style.animationPlayState = 'paused');

            // Initialize
            const checkAuthInterval = setInterval(() => {
                if (window.db && window.auth.currentUser) {
                    clearInterval(checkAuthInterval);
                    contactForm.addEventListener('submit', handleFormSubmit);
                    loadPortfolioData();
                }
            }, 100);
        });
    </script>
</body>
</html>
